#N canvas 1213 288 1606 1108 10;
#N canvas 0 0 450 300 (subpatch) 0;
#X array sampleData 307411 float 0 black black;
#X coords 0 1 307410 -1 200 140 1;
#X restore 670 170 graph;
#X obj 400 120 soundfiler;
#X msg 400 90 read -resize \$1 sampleData;
#X obj 400 60 openpanel;
#X obj 400 30 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#X floatatom 400 150 8 0 0 0 - - -, f 8;
#X obj 400 620 tabread4~ sampleData;
#X obj 400 680 *~;
#X obj 400 710 dac~;
#X floatatom 440 650 5 0 1 0 Vol - -, f 5;
#X obj 400 590 vline~;
#X msg 400 560 \$1 \, \$2 \$3;
#X obj 400 530 pack f f f;
#X obj 490 480 / 44.1;
#X obj 400 180 t b f;
#X obj 510 350 expr $f2 / $f1;
#X floatatom 510 390 8 0 0 0 - - -, f 8;
#X floatatom 400 210 5 0 6 0 - - -, f 5;
#X obj 400 240 expr pow(2 \, $f1);
#X floatatom 400 270 5 0 0 0 - - -, f 5;
#X obj 360 340 random;
#X obj 400 440 *;
#X obj 450 480 *;
#X obj 450 440 + 1;
#X obj 370 370 t f f;
#X obj 260 270 metro;
#X obj 260 240 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X text 460 150 Audio length;
#X text 450 210 Segment count base;
#X text 450 270 Number of segments (base^2);
#X text 570 390 Audio sample length / num segments = segment length
in samples;
#X text 550 480 sample length / 44.1khz * 1000 = segment length in
ms;
#X obj 520 530 s segmentLength;
#X obj 290 230 r segmentLength;
#X text 150 200 Metronome \, triggering at end of segment;
#X text 90 440 Start at random sample \, end at random sample + 1;
#X obj 395 305 t f f;
#X text 480 560 Read a segment of data from the array. Start \, end
\, duration. Two lines - one which goes straight to start \, one which
ramps from start to end;
#X connect 1 0 5 0;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 5 0 14 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 7 0 8 1;
#X connect 9 0 7 1;
#X connect 10 0 6 0;
#X connect 11 0 10 0;
#X connect 12 0 11 0;
#X connect 13 0 12 2;
#X connect 13 0 32 0;
#X connect 14 0 17 0;
#X connect 14 1 15 1;
#X connect 15 0 16 0;
#X connect 16 0 21 1;
#X connect 16 0 22 1;
#X connect 16 0 13 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 19 0 15 0;
#X connect 19 0 36 0;
#X connect 20 0 24 0;
#X connect 21 0 12 0;
#X connect 22 0 12 1;
#X connect 23 0 22 0;
#X connect 24 0 21 0;
#X connect 24 1 23 0;
#X connect 25 0 20 0;
#X connect 26 0 25 0;
#X connect 33 0 25 1;
#X connect 36 0 20 1;
#X connect 36 1 15 0;
